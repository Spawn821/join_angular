<section>
  <article class="leftside-addcontact">
    <div class="logo">
      <img src="/img/logo_contacts.png" alt="" />
    </div>
    <div class="description">
      <div class="text">
        <p>{{ isEditing ? 'Edit Contact' : 'Add Contact' }}</p>
        <p class="small-text">Tasks are better with a team!</p>
      </div>
      <span></span>
    </div>
  </article>

  <article class="formsite">
    <article class="close-btn" (click)="closeNewContact()">
      <img src="/img/close.png" alt="close" />
    </article>
    <form [formGroup]="contactForm" class="formgroup" (ngSubmit)="onSubmit()">
      <div class="inputs">
        <div class="input-with-error">
          <label
            for="username"
            [ngClass]="contactForm.get('name')?.invalid && (contactForm.get('name')?.touched || loginError) ? 'border-error' : 'border-success'"
          >
            <div>
              <img src="/img/person.png" alt="User" />
            </div>
            <input
              type="text"
              id="username"
              formControlName="name"
              placeholder="Username"
            />
          </label>
          <div class="error-messages" *ngIf="contactForm.get('name')?.invalid && (contactForm.get('name')?.touched || loginError)">
            <span *ngIf="contactForm.get('name')?.errors?.['required']">Name is required</span>
            <span *ngIf="contactForm.get('name')?.errors?.['firstLastNameRequired']">Please enter both first name and last name</span>
            <span *ngIf="contactForm.get('name')?.errors?.['tooManyNames']">Please enter only first name and last name (no middle names)</span>
          </div>
        </div>

        <div class="input-with-error">
          <label
            for="email"
            [ngClass]="loginError ? 'border-error' : 'border-success'"
          >
            <div>
              <img src="/img/mail.png" alt="Mail" />
            </div>
            <input
              type="email"
              id="email"
              formControlName="email"
              placeholder="Email"
            />
          </label>
        </div>

        <div class="input-with-error">
          <label
            for="phoneNumber"
            [ngClass]="loginError ? 'border-error' : 'border-success'"
          >
            <div>
              <img src="/img/call.png" alt="Phone" />
            </div>
            <input
              type="tel"
              id="phoneNumber"
              formControlName="phoneNumber"
              placeholder="Phone"
            />
          </label>
        </div>
      </div>

      <div class="buttons">
        <button
          type="button"
          class="main-btn secondary-btn"
          (click)="formDelete()"
        >
          Delete
        </button>
        <button type="submit" class="main-btn hover-main-btn active-main-btn">
          Save
        </button>
      </div>
    </form>
  </article>
</section>
